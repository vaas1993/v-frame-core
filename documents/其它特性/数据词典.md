# 数据词典
VF包含了一个简单易用的数据词典机制，它主要解决两个问题：
- 从接口获取的字段为枚举值，需要经过转化后才能友好的显示
- 程序中大量的表单所使用的下拉列表的可选值

对于第一点，以往我们的做法是在视图层进行转换，将存储值转换为展示值。对于第二点，我们在表单渲染的地方存储一个可遍历的变量，并且让下拉列表根据这个变量进行展示。

一般来说这样做是没有问题的，不过当你的程序越来越庞大、代码越来越冗余，而你又不得不对于原本的枚举列表进行修改时，你需要回顾这段代码存放的文件位置，重新去理解这些代码，甚至有些时候这些代码已经来回交接了四五手了，这将是一个相当昭糟糕的体验。

VF使用一个数据词典的机制来改善上述的问题，阅读过框架源码的小伙伴可能会发现在 VFrame 类中存在一个成员方法 setDictList，这个方法就是用来设置一个全局数据词典的，具体为：
```javascript
/**
 * 设置数据词典列表
 * 该方法会覆盖现有所有的词典列表
 * @param {object<array<object<name, value>>>} list
 */
setDictList(list)
```
我们可以在程序初始化或者其它必要的时刻调用该方法，传入需要的格式以进行数据词典赋值，list的数据格式为：
```json
{
  "组名": [
    {
      "name": "元素1的名称",
      "value": "元素1的值"
    },
    {
      "name": "元素2的名称",
      "value": "元素2的值"
    }
  ],
  "user_gender": [
    {
      "name": "男",
      "value": "1"
    },
    {
      "name": "女",
      "value": "2"
    }
  ],
  "user_status": [
    {
      "name": "可使用",
      "value": "1"
    },
    {
      "name": "禁用",
      "value": "0"
    }
  ]
}
```
观察上面的例子，我们发现数据词典由三个部分组成：
- 组名：用来对多个词典命名，稍后我们可以通过组名获取一组数据词典
- 词典名（name）：该字段的值一般是可以直接在页面中友好展示的值，我们可以通过组名和词典值获取到词典名
- 词典值（value）：该字段的值一般是在服务器持久化存储、不适合直接站页面中展示的值，我们可以通过组名和词典名获取到词典值，我们建议该值始终是一个字符串

有了以上的数据后，我们可以使用 数据词典助手类 来对枚举值进行转换了。

具体用法可见：《助手类 > 数据词典助手类》、《数据模型 > 字段格式化 > 数据词典格式器》