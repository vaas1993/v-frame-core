# 接口响应
我们在使用 Api 类调用 get 方法或者 post 方法后，这两个方法都会返回一个 ApiResponse 类的实例，我们使用这个实例统一进行后续处理，比如判断请求结果、获取响应数据等等。

在前面我们提到，接口的请求会先通过"过滤器"进行预处理，过滤器在对原始的响应数据进行处理后，能得到一个响应类型（filter.type）和数据提取（filter.data），在本篇章中我们将介绍怎样在你的程序中使用 ApiResponse。

## 获取响应类型
首先我们预定义了三个响应类型的值，如下：
- Api.SUCCESS_TYPE：成功
- Api.FAIL_TYPE：失败
- Api.ERROR_TYPE：错误

相对应的，我们提供了三个方法用于判断响应类型：
- apiResponse.getIsSuccess()
- apiResponse.getIsFail()
- apiResponse.getIsError()

以上三个方法均返回布尔值，若响应类型值是你自己定义的，你还可以直接获取响应类型的值自行判断：
- apiResponse.getType()

## 获取响应数据
通过过滤器的数据提取方法我们可以根据原始的响应数据来格式化成符合前端使用的数据格式，我们预定义几种场景推荐使用：

- 操作类接口，比如 新建、修改、删除 等，建议提取返回消息字段，用于在调用接口失败时展示在页面上，比如“登录失败，用户名或密码错误”。VF要求消息字段名为message。
- 列表类接口，建议提取保存列表数据的字段和一个列表元数据的字段，元数据会有列表总数，当前页码，当页的数量 等信息。VF要求列表数据字段名为items，列表元数据字段名为listMeta，并且里面包含 {total, pagination, size} 三个字段。
- 详情类接口，建议提取详情数据，该数据可直接赋值给数据模型，达到无缝赋值的目的，VF要求详细数据的提取字段名为sources。

这些提取后的字段，都可以直接通过 apiResponse.字段名的形式获取对应的值

## 获取原始响应数据
通过响应类型和数据提取的搭配使用，我们可以抹除绝大多数场景的差异，专注于处理共性逻辑，极少数时候你可能也需要直接读取原始响应数据以进一步处理，此时你可以调用该方法：
- apiResponse.getResponse()

该方法将会返回最初调用接口时取得的原始数据。
